# 💧 喝水提醒 - 设置成功！

> **间隔:** 每 30 分钟
> **状态:** ✅ 运行中

---

## ✅ 已完成

### 1. 添加喝水提醒任务

**文件:** `.claude/personalities/HEARTBEAT.md`

```markdown
## 定时提醒

- [ ] 💧 喝水提醒（每30分钟）
```

### 2. 启动心跳守护

**配置:**
- ⏰ 间隔: 30 分钟
- 📍 PID: 10916
- ✅ 状态: 运行中

---

## 🎯 工作方式

### 自动提醒流程

```
每 30 分钟
  ↓
心跳守护检查 HEARTBEAT.md
  ↓
发现未完成任务: 💧 喝水提醒
  ↓
发送 macOS 系统通知
  ↓
你看到通知
  ↓
喝水并打卡（可选）
```

### 通知样式

**你会看到：**
```
┌─────────────────────────────────┐
│ Everything Claude Code           │
│ 💓 心跳提醒: 1 个待办任务       │
│                    [现在] [关闭] │
└─────────────────────────────────┘
```

**点击通知可查看详细任务：**
- 💧 喝水提醒（每30分钟）

---

## 📊 时间表

假设启动时间: 12:05

```
12:05 - 启动守护，立即检查第1次
12:35 - 第2次检查 ← 喝水提醒 🚰
13:05 - 第3次检查 ← 喝水提醒 🚰
13:35 - 第4次检查 ← 喝水提醒 🚰
14:05 - 第5次检查 ← 喝水提醒 🚰
...
```

**每天提醒次数:**
- 工作时间 9:00-18:00（9小时）
- 约 18 次喝水提醒
- 建议每次喝水 200ml
- 总计: 约 3.6L 💧

---

## 🎛️ 管理命令

### 查看当前状态

```bash
./custom/scripts/heartbeat.sh status
```

### 查看所有任务

```bash
./custom/scripts/heartbeat.sh check
```

输出:
```
💓 HEARTBEAT: 待办任务概览
============================================================

📅 定时提醒:
  1. 💧 喝水提醒（每30分钟）

📅 每日检查:
  1. 检查 pnpm outdated
  2. 运行 pnpm lint
  3. 查看今天的 GitHub 通知

📆 每周检查:
  1. 更新 README.md
  2. 审查最近的代码变更
  3. 清理未使用的依赖

🔄 持续关注:
  1. 检查是否有安全问题
  2. 关注 Claude Code 更新
  3. 测试新功能

============================================================
总计: 10 个待办任务
```

### 停止守护

```bash
./custom/scripts/heartbeat.sh stop
```

### 重启守护

```bash
# 停止
./custom/scripts/heartbeat.sh stop

# 启动（默认30分钟）
./custom/scripts/heartbeat.sh start

# 或自定义间隔（如60分钟）
./custom/scripts/heartbeat.sh start 60
```

---

## 💡 使用技巧

### 1. 标记完成（可选）

喝水后，可以手动标记为完成：

```bash
# 编辑 HEARTBEAT.md
vim .claude/personalities/HEARTBEAT.md

# 将 - [ ] 改为 - [x]
- [x] 💧 喝水提醒（每30分钟）
```

**下次提醒：**
- ✅ 已完成 → 不会提醒
- ❌ 未完成 → 继续提醒

### 2. 临时禁用

**方法 1: 标记为已完成**
```markdown
- [x] 💧 喝水提醒（每30分钟）
```

**方法 2: 停止守护**
```bash
./custom/scripts/heartbeat.sh stop
```

**方法 3: 删除任务**
```markdown
## 定时提醒
（留空，不添加任务）
```

### 3. 自定义提醒内容

可以修改提醒文本：

```markdown
## 定时提醒

- [ ] 💧 喝水 200ml（每30分钟）
- [ ] 🧘 伸展身体（每30分钟）
- [ ] 👀 远眺放松（每30分钟）
```

---

## 🔔 测试提醒

如果想**立即测试**提醒效果（不等待30分钟）：

```bash
# 停止30分钟间隔的守护
./custom/scripts/heartbeat.sh stop

# 启动1分钟间隔测试
./custom/scripts/heartbeat.sh start 1

# 等待1分钟，你会收到通知

# 测试完成后，恢复30分钟间隔
./custom/scripts/heartbeat.sh stop
./custom/scripts/heartbeat.sh start 30
```

---

## 📱 macOS 通知设置

如果没收到通知，检查系统设置：

**系统设置 → 通知 → 脚本编辑器**
- ✅ 允许通知
- ✅ 横幅样式
- ✅ 声音（可选）

**系统设置 → 专注模式**
- ⚠️ 专注模式可能屏蔽通知
- 建议关闭或配置例外

---

## 🎉 完成！

**现在：**
- ✅ 心跳守护正在运行
- ✅ 每 30 分钟会自动提醒喝水
- ✅ Mac 右上角会弹出通知

**大约在 12:35 收到第1次喝水提醒！** 💧🚰

**需要我帮你调整提醒间隔或内容吗？**
